<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¿ í‚¤ ê°•í™”í•˜ê¸° (í™•ë¥ í‘œ)</title>
    <link rel="stylesheet" href="style.css">

    <!-- (Firebase SDKëŠ” ì´ì „ê³¼ ë™ì¼) -->
    <script type="module">
        const firebaseConfig = {
          apiKey: "AIzaSyCKe3Nss6sUK5STIuU5En_CZpDLKD4LQjg",
          authDomain: "cookie-bg.firebaseapp.com",
          projectId: "cookie-bg",
          storageBucket: "cookie-bg.appspot.com",
          messagingSenderId: "873733835679",
          appId: "1:873733835679:web:7cfac4d15415a612ac0baa",
          measurementId: "G-G05W6Z6QXP"
        };
        try {
            window.firebaseApp = firebase.initializeApp(firebaseConfig);
            window.firebaseAuth = firebase.auth();
            window.firebaseDb = firebase.firestore();
            window.GoogleAuthProvider = new firebase.auth.GoogleAuthProvider();
        } catch (e) {
            console.error("Error initializing Firebase: ", e);
        }
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-analytics.js"></script>
</head>
<body>

    <div id="sidebar-overlay"></div>

    <div id="main-game-ui">
        <!-- 1. ì™¼ìª½ íŒ¨ë„ (ì´ì „ê³¼ ë™ì¼) -->
        <div id="left-panel">
            <h2>ğŸª ì¥ì°©ì¤‘ì¸ ì¿ í‚¤</h2>
            <ol id="equipped-cookie-list">
                <li>(ë¹„ì–´ìˆìŒ)</li><li>(ë¹„ì–´ìˆìŒ)</li><li>(ë¹„ì–´ìˆìŒ)</li><li>(ë¹„ì–´ìˆìŒ)</li><li>(ë¹„ì–´ìˆìŒ)</li>
            </ol>
            <h2>âš”ï¸ ì¥ì°© ë¬´ê¸°</h2>
            <div id="equipped-weapon-display">(ì—†ìŒ)</div>
            <div id="player-stats">
                <p>CPS: <span id="sugar-per-time">0.000</span></p>
                <p>ì„¤íƒ•: <span id="sugar-count">1000</span></p>
                <p>ë°©ì§€ê¶Œ: <span id="protection-ticket-count">0</span></p>
            </div>
            <div id="auth-section">
                <div id="user-info">
                    <p><span id="user-name"></span>ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!</p>
                    <button id="logout-button">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
                <button id="google-login-button">Google ë¡œê·¸ì¸</button>
            </div>
        </div>
        
        <!-- 2. ì¤‘ì•™ íŒ¨ë„ (ì´ì „ê³¼ ë™ì¼) -->
        <div id="center-panel">
            <div id="cookie-mode-buttons">
                <button id="strengthen-mode-button" class="mode-button">ì¼ë°˜ê°•í™”</button>
                <button id="star-strengthen-button" class="mode-button">ìŠ¤íƒ€ê°•í™”</button>
                <button id="gacha-mode-button" class="mode-button">ë½‘ê¸°</button>
            </div>

            <!-- 2-1. ì¼ë°˜ê°•í™” íŒ¨ë„ (ì´ì „ê³¼ ë™ì¼) -->
            <div id="strengthen-panel">
                <div id="cookie-main-display">
                    <div id="cookie-visual"><img src="https://placehold.co/300x300/D2B48C/8B4513?text=COOKIE" alt="ì¿ í‚¤ ì´ë¯¸ì§€"></div>
                    <h2 id="cookie-name-display">ê¸°ë³¸ ì¿ í‚¤</h2>
                </div>
                <div id="strengthen-info">
                    <p>ê°•í™” ë¹„ìš©: <span id="cost-display">10</span>ê°œ</p>
                    <p>ì„±ê³µ í™•ë¥ : <span id="probability-display">100</span>%</p>
                    <p>ë³´í˜¸ ì‚¬ìš©: <span id="protection-use-count">0</span>/5</p>
                </div>
                <div id="action-buttons">
                    <input type="checkbox" id="protection-toggle-checkbox" class="hidden-checkbox">
                    <label for="protection-toggle-checkbox" id="protection-toggle-label" class="action-button-small">ë°©ì§€ê¶Œ (0)</label>
                    <button id="strengthen-button" class="action-button-large">ê°•í™”í•˜ê¸°!</button>
                    <button id="store-button" class="action-button-small">ì €ì¥</button>
                </div>
            </div>

            <!-- 2-2. ë½‘ê¸° íŒ¨ë„ (í™•ë¥ í‘œ ë²„íŠ¼ ì¶”ê°€) -->
            <div id="gacha-panel">
                <div class="gacha-title-bar">
                    <h2>âš”ï¸ ì „íˆ¬ ì¿ í‚¤ ë½‘ê¸°</h2>
                    <button id="gacha-prob-button">í™•ë¥ í‘œ</button> <!-- ì‹ ê·œ ë²„íŠ¼ -->
                </div>
                <p>ì¿ í‚¤ë¥¼ ë½‘ì•„ ì „íˆ¬ì— í™œìš©í•˜ì„¸ìš”! (ë½‘ê¸° ë¹„ìš©: <span id="gacha-cost">1,000</span> ì„¤íƒ•)</p>
                <div id="gacha-buttons">
                    <button id="gacha-pull-1" class="gacha-button">1íšŒ ë½‘ê¸°</button>
                    <button id="gacha-pull-10" class="gacha-button">10íšŒ ë½‘ê¸°</button>
                </div>
                <div id="gacha-result"><p>ë½‘ê¸° ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...</p></div>
            </div>
        </div> 

        <!-- 3. ì˜¤ë¥¸ìª½ íŒ¨ë„ (ì´ì „ê³¼ ë™ì¼) -->
        <div id="right-panel">
            <button id="inventory-toggle-button" class="menu-button">ì¸ë²¤</button>
            <button id="shop-toggle-button" class="menu-button">ìƒì </button>
            <button id="ranking-toggle-button" class="menu-button">ë­í‚¹</button>
            <button id="trade-toggle-button" class="menu-button">ê±°ë˜</button>
            <button id="battle-button">ì „íˆ¬</button>
        </div>
    </div> <!-- #main-game-ui ë -->

    <!-- ì‚¬ì´ë“œë°” (ì´ì „ê³¼ ë™ì¼) -->
    <div id="main-sidebar">
        <!-- (ë‚´ìš© ë™ì¼) -->
    </div>
    
    <!-- ì „íˆ¬ UI (ì´ì „ê³¼ ë™ì¼) -->
    <div id="battle-ui">
        <!-- (ë‚´ìš© ë™ì¼) -->
    </div>

    <!-- [ì‹ ê·œ] ë½‘ê¸° í™•ë¥ í‘œ ëª¨ë‹¬ -->
    <div id="gacha-prob-modal">
        <div id="prob-modal-overlay"></div>
        <div id="prob-modal-content">
            <span id="close-prob-modal">&times;</span>
            <h2>ì „íˆ¬ ì¿ í‚¤ í™•ë¥ í‘œ</h2>
            <div id="prob-table-container">
                <table id="prob-table">
                    <thead>
                        <tr>
                            <th>ì´ë¦„</th>
                            <th>ë“±ê¸‰</th>
                            <th>í™•ë¥  (1/N)</th>
                            <th>í™•ë¥  (%)</th>
                        </tr>
                    </thead>
                    <tbody id="prob-table-body">
                        <!-- JSë¡œ ì±„ì›Œì§ -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="script.js"></script> 
</body>
</html>
